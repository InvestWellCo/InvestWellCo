<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Inquiry</title>
    <style>
        /* يمكنك إضافة تنسيق CSS هنا لتنسيق النموذج */
        #phone-error {
            display: none;
            color: #282827;
        }
        #submit-btn:disabled {
            background-color: #282827;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <div>
        <h1 id="form-title">Real Estate Inquiry</h1>
        <label id="language-label" for="language-toggle">English</label>
        <img id="flag" src="https://flagcdn.com/w320/us.png" alt="Language Flag" width="30">
        <button id="language-toggle" onclick="toggleLanguage()">Toggle Language</button>
    </div>

    <form id="inquiry-form">
        <label for="name" id="name">Name</label>
        <input type="text" id="name" placeholder="Name" required>

        <label for="email" id="email">Email</label>
        <input type="email" id="email" placeholder="Email" required>

        <label for="phone" id="phone">Phone Number</label>
        <input type="text" id="phone" placeholder="Phone Number" required>
        <div id="phone-error">Invalid phone number format</div>

        <label for="contact-method" id="contact-method">Select Contact Method</label>
        <select id="contact-method">
            <option value="">Select Contact Method</option>
            <option value="phone">By Phone</option>
            <option value="whatsapp">By WhatsApp</option>
        </select>

        <label for="country">Country</label>
        <select id="country" onchange="updatePhoneCode()">
            <option data-code="+20" value="EG">Egypt</option>
            <option data-code="+966" value="SA">Saudi Arabia</option>
            <option data-code="+971" value="AE">UAE</option>
            <option data-code="+965" value="KW">Kuwait</option>
            <option data-code="+974" value="QA">Qatar</option>
            <option data-code="+968" value="OM">Oman</option>
            <option data-code="+973" value="BH">Bahrain</option>
            <option data-code="+962" value="JO">Jordan</option>
            <option data-code="+218" value="LY">Libya</option>
            <option data-code="+213" value="DZ">Algeria</option>
            <option data-code="+212" value="MA">Morocco</option>
            <option data-code="+216" value="TN">Tunisia</option>
            <option data-code="+963" value="SY">Syria</option>
            <option data-code="+961" value="LB">Lebanon</option>
            <option data-code="+1" value="US">United States</option>
            <option data-code="+44" value="GB">United Kingdom</option>
            <option data-code="OTHER" value="OTHER">🌍 Other</option>
        </select>
        <input type="text" id="country-code" readonly>

        <label for="inquiry" id="inquiry">Your Inquiry</label>
        <textarea id="inquiry" placeholder="Your Inquiry" required></textarea>

        <button type="submit" id="submit-btn" disabled>Submit</button>
    </form>

    <script>
        let isEnglish = false;

        function toggleLanguage() {
            isEnglish = !isEnglish;
            const langElements = {
                "form-title": ["Real Estate Inquiry", "استفسار عقاري"],
                "name": ["Name", "الاسم"],
                "email": ["Email", "البريد الإلكتروني"],
                "phone": ["Phone Number", "رقم الهاتف"],
                "inquiry": ["Your Inquiry", "استفسارك"],
                "submit-btn": ["Submit", "إرسال"],
                "contact-method": ["Select Contact Method", "اختر طريقة التواصل"],
                "by-phone": ["By Phone", "بالهاتف"],
                "by-whatsapp": ["By WhatsApp", "واتساب"],
                "country": ["Country", "البلد"]
            };

            for (let key in langElements) {
                if (key === "inquiry") {
                    document.getElementById(key).placeholder = isEnglish ? langElements[key][0] : langElements[key][1];
                } else {
                    const element = document.getElementById(key) || document.querySelector(`select#${key}`);
                    if (element) {
                        element.textContent = isEnglish ? langElements[key][0] : langElements[key][1];
                    }
                }
            }

            document.getElementById("flag").src = isEnglish
                ? "https://flagcdn.com/w320/eg.png"
                : "https://flagcdn.com/w320/us.png";
            document.getElementById("language-label").innerText = isEnglish ? "عربي" : "English";
        }

        function updatePhoneCode() {
            const countrySelect = document.getElementById('country');
            const countryCodeInput = document.getElementById('country-code');
            const selectedCode = countrySelect.options[countrySelect.selectedIndex].dataset.code;
            countryCodeInput.value = selectedCode;

            countryCodeInput.style.display = countrySelect.value === "OTHER" ? "none" : "inline-block";
        }

        window.onload = function() {
            updatePhoneCode();
            toggleLanguage();
            validateSubmitButton();
        };

        function validatePhone() {
            const phoneInput = document.getElementById("phone");
            const phoneError = document.getElementById("phone-error");
            const countrySelect = document.getElementById("country");
            const selectedCountry = countrySelect.value;
            const phoneValue = phoneInput.value;

            const phoneRules = {
                "EG": /^01[0-9]{9}$/,
                "SA": /^05[0-9]{8}$/,
                "AE": /^05[0-9]{8}$/,
                "KW": /^5[0-9]{7}$/,
                "QA": /^3[0-9]{7}$/,
                "OM": /^9[0-9]{7}$/,
                "BH": /^3[0-9]{7}$/,
                "JO": /^07[0-9]{8}$/,
                "LY": /^09[1-9][0-9]{7}$/,
                "DZ": /^0[56][0-9]{8}$/,
                "MA": /^06[0-9]{8}$/,
                "TN": /^2[0-9]{7}$/,
                "SY": /^09[1-9][0-9]{7}$/,
                "LB": /^03|71[0-9]{6}$/,
                "US": /^[2-9][0-9]{9}$/,
                "GB": /^07[0-9]{9}$/
            };

            if (phoneRules[selectedCountry] && !phoneRules[selectedCountry].test(phoneValue)) {
                phoneError.style.display = "block";
                phoneInput.setCustomValidity("Invalid phone number format");
            } else {
                phoneError.style.display = "none";
                phoneInput.setCustomValidity("");
            }

            validateSubmitButton();
        }

        function validateSubmitButton() {
            const nameInput = document.getElementById("name");
            const emailInput = document.getElementById("email");
            const phoneInput = document.getElementById("phone");
            const submitBtn = document.getElementById("submit-btn");

            if (nameInput.value && emailInput.value && phoneInput.value) {
                submitBtn.disabled = false;
                submitBtn.style.backgroundColor = "#005d9e"; // العودة للون الطبيعي
            } else {
                submitBtn.disabled = true;
                submitBtn.style.backgroundColor = "#282827"; // اللون عند التعطيل
            }
        }

        const submitBtn = document.getElementById("submit-btn");

        document.getElementById("name").addEventListener("input", validateSubmitButton);
        document.getElementById("email").addEventListener("input", validateSubmitButton);
        document.getElementById("phone").addEventListener("input", function() {
            validatePhone();
            validateSubmitButton();
        });

        // Adding event listeners for hover effect on the submit button
        submitBtn.addEventListener("mouseenter", function() {
            if (!submitBtn.disabled) {
                submitBtn.style.backgroundColor = "#004b7a"; // Color change on hover
            }
        });

        submitBtn.addEventListener("mouseleave", function() {
            if (!submitBtn.disabled) {
                submitBtn.style.backgroundColor = "#005d9e"; // Return to original color
            }
        });
    </script>
</body>
</html>
